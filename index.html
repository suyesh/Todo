<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Todo</title>
  <meta name="description" content="No sign ups! No sign ins! Dead Simple!">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Todo</h1>
    </header>
    <div id="container">
      <p class="tagline">No sign ups! No sign ins! Dead Simple!</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/suyesh/Todo/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/suyesh/Todo/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/suyesh/Todo" class="code">View Todo on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO</h1>

<p>A Cool Rails Application for To-Do Lists  </p>

<h1>
<a id="built-with-rails-using-following-gems" class="anchor" href="#built-with-rails-using-following-gems" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Built with Rails using following Gems</h1>

<ol>
<li>Devise for handling the browser sessions for users.
(There is no need for Signup/Signin/Login/Logout).</li>
<li>Bootstrap-sass for styling.</li>
<li>Postgres to persist to-do list data between sessions for all users.</li>
<li>Pry for debugging.</li>
<li>QRCODE generator for syncing sessions with other devices.</li>
<li>Animate.css for bouncing effect</li>
<li>Font Awesome</li>
</ol>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ol>
<li>No Signup/Signin necessary. User's tasks will be anonymously saved in the Database.
(Users can just scan the QR-Code to sync their Tasks with multiple devices)</li>
<li>Cool UI but could be cooler.</li>
<li>Task saved in cloud. Even though there is no signup or signin, your tasks are yours.</li>
<li>Mark tasks as complete. Tasks will be deleted from Database as completed.</li>
<li>Set Priority on tasks to easily see which tasks are important.</li>
<li>Elegant color-coded priority badge on Tasks for identification.</li>
<li>Full use of Ajax. There is no reloading of browser.</li>
</ol>

<h1>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How it works</h1>

<p>I wanted users to not have to signup or signin to use the website. Accounts for users are automatically created and they will be logged in until they clear browser cache and can be extended to use user IP. Once users are created anonymously, their IP can be stored to retrieve data if they wish to switch the browser.</p>

<p>The QRCODE Login is based on Session id. When you scan the QR CODE, the session user ID is passed in the params to the other device signing you in to the new device.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-sr"><span class="pl-pds">//</span></span> <span class="pl-k">def</span> <span class="pl-en">create_guest_user</span>
      password <span class="pl-k">=</span> <span class="pl-c1">SecureRandom</span>.hex(<span class="pl-c1">6</span>)
      u <span class="pl-k">=</span> <span class="pl-c1">User</span>.create(<span class="pl-c1">email:</span> <span class="pl-s"><span class="pl-pds">"</span>guest_<span class="pl-pse">#{</span><span class="pl-s1"><span class="pl-c1">Time</span>.now.to_i</span><span class="pl-pse"><span class="pl-s1">}</span></span><span class="pl-pse">#{</span><span class="pl-s1">rand(<span class="pl-c1">100</span>)</span><span class="pl-pse"><span class="pl-s1">}</span></span>@suyesh.com<span class="pl-pds">"</span></span>, <span class="pl-c1">password:</span> password, <span class="pl-c1">password_confirmation:</span> password)
      u.save!(<span class="pl-c1">validate:</span> <span class="pl-c1">false</span>)
      session[<span class="pl-c1">:guest_user_id</span>] <span class="pl-k">=</span> u.id
      <span class="pl-c">#Sample Task for the guest user</span>
      u.todos.create(<span class="pl-c1">description:</span> <span class="pl-s"><span class="pl-pds">"</span>Get milk and bread<span class="pl-pds">"</span></span>, <span class="pl-c1">priority:</span> <span class="pl-s"><span class="pl-pds">"</span>High<span class="pl-pds">"</span></span> )
      u
    <span class="pl-k">end</span></pre></div>

<p>The above code creates and returns a guest user. Then in the Index path of the todos list user's QR code for their session is created.</p>

<div class="highlight highlight-source-ruby"><pre>  <span class="pl-smi">@qr</span> <span class="pl-k">=</span> <span class="pl-c1">RQRCode</span>::<span class="pl-c1">QRCode</span>.<span class="pl-k">new</span>(<span class="pl-s"><span class="pl-pds">"</span>https://montodo.herokuapp.com<span class="pl-pds">"</span></span><span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pse">#{</span><span class="pl-s1">sessions_login_path</span><span class="pl-pse"><span class="pl-s1">}</span></span><span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">"</span>?id=<span class="pl-pse">#{</span><span class="pl-s1">guest_user.id</span><span class="pl-pse"><span class="pl-s1">}</span></span><span class="pl-pds">"</span></span>).to_img.resize(<span class="pl-c1">100</span>,<span class="pl-c1">100</span>).to_data_url</pre></div>

<p>The url from the QRcode gets the login of the user and sets the guest_user_id on the new device.</p>

<div class="highlight highlight-source-ruby"><pre>   <span class="pl-k">def</span> <span class="pl-en">login</span>
     <span class="pl-smi">@user</span> <span class="pl-k">=</span> <span class="pl-c1">User</span>.find(params[<span class="pl-c1">:id</span>])
     session[<span class="pl-c1">:guest_user_id</span>] <span class="pl-k">=</span> <span class="pl-smi">@user</span>.id
    redirect_to root_path
   <span class="pl-k">end</span></pre></div>

<h2>
<a id="challenges-faced" class="anchor" href="#challenges-faced" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Challenges Faced</h2>

<ol>
<li>Building anonymous User creation and Guest Sessions using Devise. </li>
<li>User interface.</li>
<li>My plan is to add multiple lists on top of the sticky pads. Still a work in progress.</li>
</ol>

<p>See <a href="https://montodo.herokuapp.com">Live App</a></p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/suyesh" class="avatar"><img src="https://avatars1.githubusercontent.com/u/3803603?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/suyesh">suyesh</a> maintains <a href="https://github.com/suyesh/Todo">Todo</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/suyesh/Todo/tarball/master" class="tar">tar</a><a href="https://github.com/suyesh/Todo/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
